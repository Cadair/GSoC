<!DOCTYPE html>
<html>
    <head>
        <title>Vamshi Krishna Bommerla | Project Report </title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
        <link rel="stylesheet" href="/resources/css/style.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.1/css/materialize.min.css">
        <link rel="stylesheet" href="https://rawgit.com/coala/coalaCSS/master/coala.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.1/js/materialize.min.js"></script>
        <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:300,300i,400,400i,700,700i|Roboto:100,200,300,400,500,600,700,800,900|Ubuntu+Mono|Overpass+Mono|Inconsolata" rel="stylesheet">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    </head>
    <body class='report'>
        <div class="container">
        <br>
            <div class="row no-margin">
                <div class="col m12">
                    <h4 class="left light">Google Summer of Code 2018 Work Product Submission </h4>
                </div>
                <br>
            </div>
            <br>
            <div class="row no-margin">
                <div class="col m6">
                    <div class="card flex1">
                        <div class="card-content">
                            <h5 class="light no-margin"><a href="https://coala.io">coala</a></h5>
                            <h3 class="light">Vamshi Krishna Bommerla</h3>
                            <p><p>I am third year student of B.Tech Computer Science Engineering at Amrita Vishwa Vidyapeetham, Amritapuri, Kerala. I participated in GSoC and worked with <a href="https://coala.io">coala</a> and <a href="https://gitmate.io">GitMate</a> to implement GitMate plugins and automation which help coala development workflow. I worked on adding plugins which auto-reject, auto-review, auto-assign PRs and notify merge conflicts in a PR. I also implemented a assign request plugin to assign issues to a user if he/she satisfies defined eligibilty conditions.</p>
</p>
                        </div>
                    </div>
                </div>
                <div class="col m3">
                    <div class="card flex1">
                        <div class="card-content">
                            <div class="center"><h4 class="light no-margin">Project Title</h4></div>
                            <br>
                            <div class="center"><a href="https://summerofcode.withgoogle.com/projects/#5344316227059712">Implement GitMate automations and plugins for coala</a></div>
                        </div>
                    </div>
                    <div class="card flex1">
                        <div class="card-content">
                            <div class="center"><h4 class="light no-margin">GSoC Blog</h4></div>
                            <br>
                            <div class="center"><a class="blog-link" href="https://vamshi99.blogspot.com">https://vamshi99.blogspot.com</a></div>
                        </div>
                    </div>
                </div>
                <div class="col m3">
                    <div class="card flex1">
                        <div class="card-content links-section">
                            
                                <div class="link">
                                
                                    <div class="row no-margin ">
                                        <div class="col m6">GitHub</div>
                                        <div class="col m6"><a href="https://github.com/Vamshi99">Vamshi99</a></div>
                                    </div>
                                
                                </div>
                                <div class="divider"></div>
                            
                                <div class="link">
                                
                                    <div class="row no-margin ">
                                        <div class="col m6">GitLab</div>
                                        <div class="col m6"><a href="https://gitlab.com/Vamshi99">Vamshi99</a></div>
                                    </div>
                                
                                </div>
                                <div class="divider"></div>
                            
                                <div class="link">
                                
                                    <div class="row no-margin ">
                                        <div class="col m6">Gitter</div>
                                        <div class="col m6"><a href="https://gitter.im/Vamshi99">Vamshi99</a></div>
                                    </div>
                                
                                </div>
                                <div class="divider"></div>
                            
                                <div class="link">
                                
                                    <div class="row no-margin ">
                                        <div class="col m6">OpenHub</div>
                                        <div class="col m6"><a href="https://www.openhub.net/accounts/Vamshi99">Vamshi99</a></div>
                                    </div>
                                
                                </div>
                                
                            
                            <br>
                            <div class="row no-margin center">
                                <div class="col m3"><i class="fa fa-envelope-o"></i></div>
                                <div class="col m9"><a href="mailto:bommvams72@gmail.com">bommvams72@gmail.com</a></div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
            <br>
            <div class="row no-margin">
                <div class="col m2">
                    <div class="card flex1">
                        <div class="card-content">
                            <div class="center"><h5 class="light no-margin">Patches Tarball</h5></div>
                            <br>
                            <div class="center"><a href="https://rawgit.com/Vamshi99/GSoCReport/master/patches.tar.gz">Download</a></div>
                            <br>
                            <div class="center sha256sum_hash">
                                <strong>SHA-256</strong>:
                                <p id="sha256sum_hash_value">
                                    406c470fd6db57b6eeb6c834ce96983adb44235bf3f006124e7b94da039dd17f
                                </p>
                                <i class="fa fa-clipboard" aria-hidden="true"><span class="hinttext">Copy Hash value</span></i>
                            </div>
                        </div>
                    </div>
                </div>
                
                    
                        <div class="col m2">
                            <div class="card flex1">
                                <div class="card-content">
                                <div class="center"><h5 class="light no-margin">Bonding</h5></div>
                                <br>
                                <div class="center"><a href="https://gitlab.com/coala/GSoC/GSoC-2018/milestones/4">View Milestone</a></div>
                                </div>
                            </div>
                        </div>
                    
                
                    
                        <div class="col m2">
                            <div class="card flex1">
                                <div class="card-content">
                                <div class="center"><h5 class="light no-margin">Phase 1</h5></div>
                                <br>
                                <div class="center"><a href="https://gitlab.com/coala/GSoC/GSoC-2018/milestones/5">View Milestone</a></div>
                                </div>
                            </div>
                        </div>
                    
                
                    
                        <div class="col m2">
                            <div class="card flex1">
                                <div class="card-content">
                                <div class="center"><h5 class="light no-margin">Phase 2</h5></div>
                                <br>
                                <div class="center"><a href="https://gitlab.com/coala/GSoC/GSoC-2018/milestones/6">View Milestone</a></div>
                                </div>
                            </div>
                        </div>
                    
                
                    
                        <div class="col m2">
                            <div class="card flex1">
                                <div class="card-content">
                                <div class="center"><h5 class="light no-margin">Phase 3</h5></div>
                                <br>
                                <div class="center"><a href="https://gitlab.com/coala/GSoC/GSoC-2018/milestones/7">View Milestone</a></div>
                                </div>
                            </div>
                        </div>
                    
                
                <div class="col m2">
                    <div class="card flex1">
                        <div class="card-content">
                        <div class="center"><h5 class="light no-margin">Mentors</h5></div>
                        <br>
                        <div class="center"><p><a href="https://github.com/nkprince007">Naveen Kumar Sangi</a> &amp; <a href="https://github.com/sils">Lasse Schuirmann</a> &amp; <a href="https://github.com/manu-chroma">Manvendra Singh</a> &amp; <a href="https://github.com/HizkiFW">Hizkia Felix</a></p>
</div>
                        </div>
                    </div>
                </div>
            </div>
            <br>
             <div class="row no-margin">
                <div class="col m12">
                    <h5 class="left light">Links to commits and repositories I've worked on:</h5>
                </div>
                <br>
            </div>
            <div class="no-margin">
                <table class="padding-table">
                    <thead class="no-border">
                        <tr class="blue-grey-text text-lighten-2">
                            <td></td>
                            <td>Repository</td>
                            <td>Link to Commit/s</td>
                            <td>Description</td>
                        </tr>
                    </thead>
                    <tbody class="card activity">
                        
                        
                           <tr>
                                <td class="fl">c</td>
                                <td class="">&nbsp;cEPs</td>
                                <td><a href='https://github.com/coala/cEPs/commit/a4b2ab35243dc0b6aebc27986d33336d3bf80a64'>View</a></td>
                                <td><p>cEP-0024.md: Add cEP for GitMate Plugins</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">g</td>
                                <td class="">&nbsp;gitmate-2</td>
                                <td><a href='https://gitlab.com/gitmate/open-source/gitmate-2/commit/225a88e695794535f50996b4997466b72e9d47ea'>View</a></td>
                                <td><p>Add gitmate pr rejector plugin</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">I</td>
                                <td class="">&nbsp;IGitt</td>
                                <td><a href='https://gitlab.com/gitmate/open-source/IGitt/commit/847afeb5460ce2866ecb2cc38593c0c486aa0271'>View</a></td>
                                <td><p>Commit.py: Add mentioned_issues, closes_issues propeties</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">g</td>
                                <td class="">&nbsp;gitmate-2</td>
                                <td><a href='https://gitlab.com/gitmate/open-source/gitmate-2/commit/05062b4f9758068291445f87469e4d9d2a4f9707'>View</a></td>
                                <td><p>Upgrade IGitt</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">g</td>
                                <td class="">&nbsp;gitmate-2</td>
                                <td><a href='https://gitlab.com/gitmate/open-source/gitmate-2/commit/3d2164d71722e55a6432a8911149c64897851564'>View</a></td>
                                <td><p>Add Fixes vs Closes automated checking plugin</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">I</td>
                                <td class="">&nbsp;IGitt</td>
                                <td><a href='https://gitlab.com/gitmate/open-source/IGitt/commit/4a044453f5d34c9f1b8227b7f57b8a0fd0caba57'>View</a></td>
                                <td><p>MergeRequest.py: Add fix_issues, close_issues, resolve_issues properties</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">g</td>
                                <td class="">&nbsp;gitmate-2</td>
                                <td><a href='https://gitlab.com/gitmate/open-source/gitmate-2/commit/ffd554de617d619809f11b0284eaa032c2d9df83'>View</a></td>
                                <td><p>Auto assign issue based on commit mention in PR</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">g</td>
                                <td class="">&nbsp;gitmate-2</td>
                                <td><a href='https://gitlab.com/gitmate/open-source/gitmate-2/commit/0eec2ec32e7afd7d017cad4c67a741c688e1bfc4'>View</a></td>
                                <td><p>apps.py: Add helper function to fetch plugin settings</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">I</td>
                                <td class="">&nbsp;IGitt</td>
                                <td><a href='https://gitlab.com/gitmate/open-source/IGitt/commit/e2224d7d1f61a34065f741535e53e676dc51ff4b'>View</a></td>
                                <td><p>Add Team class</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">g</td>
                                <td class="">&nbsp;gitmate-2</td>
                                <td><a href='https://gitlab.com/gitmate/open-source/gitmate-2/commit/f9d08c9a88c0b958a4c2ec5eb813fcd124b5300e'>View</a></td>
                                <td><p>Mark PR as WIP if coala plugin detects errors</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">I</td>
                                <td class="">&nbsp;IGitt</td>
                                <td><a href='https://gitlab.com/gitmate/open-source/IGitt/commit/c4abdd4f9367af8ce73f39f525383def68de6b62'>View</a></td>
                                <td><p>MergeRequest: Add mergeable property</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">g</td>
                                <td class="">&nbsp;gitmate-2</td>
                                <td><a href='https://gitlab.com/gitmate/open-source/gitmate-2/commit/db76142d3ecb1e6cd9cd10885ae2475cb07c4d3d'>View</a></td>
                                <td><p>Notify merge conflicts in a PR</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">g</td>
                                <td class="">&nbsp;gitmate-2</td>
                                <td><a href='https://gitlab.com/gitmate/open-source/gitmate-2/commit/ad5480c9b0a124d98020a4ad3fd3caf20fa1e321'>View</a></td>
                                <td><p>pr_rejector: Support regex in branch names</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">I</td>
                                <td class="">&nbsp;IGitt</td>
                                <td><a href='https://gitlab.com/gitmate/open-source/IGitt/commit/94735ff0f1024d6f293db90516087d8e4d2c353d'>View</a></td>
                                <td><p>Organization: Add issues property and filter_issues method</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">I</td>
                                <td class="">&nbsp;IGitt</td>
                                <td><a href='https://gitlab.com/gitmate/open-source/IGitt/commit/fff0d568f1f2731c5055995ff19bbc93be842d5f'>View</a></td>
                                <td><p>Repository: Filter issues by label, assignee</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">I</td>
                                <td class="">&nbsp;IGitt</td>
                                <td><a href='https://gitlab.com/gitmate/open-source/IGitt/commit/c025311167b07da5e825433a4d4d5e376adfed62'>View</a></td>
                                <td><p>GitLabUser: Fetch user id from username</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">m</td>
                                <td class="">&nbsp;mr-rebaser</td>
                                <td><a href='https://gitlab.com/gitmate/open-source/mr-rebaser/commit/fad8305823a1058e93cd2397b5239a882b66c3f9'>View</a></td>
                                <td><p>Add squash pull request command</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">m</td>
                                <td class="">&nbsp;mr-rebaser</td>
                                <td><a href='https://gitlab.com/gitmate/open-source/mr-rebaser/commit/3124c07ca5cd46acf985dc25fe22889e5a4744d0'>View</a></td>
                                <td><p>Dockerfile: Install requirements</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">m</td>
                                <td class="">&nbsp;mr-rebaser</td>
                                <td><a href='https://gitlab.com/gitmate/open-source/mr-rebaser/commit/68360f3f0fac686907c7eb44c1a70bfa9e276d42'>View</a></td>
                                <td><p>run.py: Update squash command</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">g</td>
                                <td class="">&nbsp;gitmate-2</td>
                                <td><a href='https://gitlab.com/gitmate/open-source/gitmate-2/commit/dda98a8ab67d01376d3199bb82260838cebab7b0'>View</a></td>
                                <td><p>rebaser: Add squash command</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">I</td>
                                <td class="">&nbsp;IGitt</td>
                                <td><a href='https://gitlab.com/gitmate/open-source/IGitt/commit/f4ec3c602745bcf08405479a684876cc1080a21f'>View</a></td>
                                <td><p>Issue: Add available_assignees property</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">g</td>
                                <td class="">&nbsp;gitmate-2</td>
                                <td><a href='https://gitlab.com/gitmate/open-source/gitmate-2/commit/a00c0265ff4a3da2eca0a1a96cb84ced033a5cd3'>View</a></td>
                                <td><p>Add assign and unassign request command</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">g</td>
                                <td class="">&nbsp;gitmate-2</td>
                                <td><a href='https://gitlab.com/gitmate/open-source/gitmate-2/commit/4f14c3f1acfedb89489fd6645a05f14ac73a2b1d'>View</a></td>
                                <td><p>Update requirements.txt</p>
</td>
                           </tr>
                        
                        
                    </tbody>
                </table>
            </div>
            <br>
            <div class="content card">
                <div class="card-content">
                    <h3 id="implement-gitmate-automations-and-plugins-for-coala">Implement GitMate automations and plugins for coala</h3>

<h4 id="work-done">Work Done</h4>

<ol>
  <li>New Plugins added in GitMate-2:
    <ol>
      <li>Auto-assign issue based on commit mention in a Pull Request.</li>
      <li>Notify merge conflicts in a Pull Request.</li>
      <li>Auto review of Fixes vs closes keywords in a Pull request.</li>
      <li>Auto reject pull requests opened on specified branches.</li>
      <li>Squash commits in a Pull Request.</li>
      <li>Request assignment to an issue.</li>
    </ol>
  </li>
  <li>IGitt enhancements:
    <ol>
      <li>Filter issues by <code class="highlighter-rouge">label</code>, <code class="highlighter-rouge">assignee</code> in a repository.</li>
      <li>Fetch <code class="highlighter-rouge">user id</code> from <code class="highlighter-rouge">username</code> in <code class="highlighter-rouge">GitLabUser</code>.</li>
      <li>Added <code class="highlighter-rouge">issues</code> property and <code class="highlighter-rouge">filter_issues</code> method in <code class="highlighter-rouge">Organization</code>
class.</li>
      <li>Added <code class="highlighter-rouge">fix_issues</code>, <code class="highlighter-rouge">close_issues</code>, <code class="highlighter-rouge">resolve_issues</code> properties in
<code class="highlighter-rouge">PullRequest</code>.</li>
    </ol>
  </li>
</ol>

<h4 id="challenges">Challenges</h4>

<p>I had difficulties with implementing GitLab API in IGitt. GitHub has teams and
GitLab API doesn’t support teams, so I had to re-design assign request plugin
to work without teams. Similarly, GitLab API doesn’t have any webhook for pull
request review event, so I couldn’t implement a feature in GitMate
which labels pull request as per review done by maintainer.</p>

<h4 id="work-to-be-done">Work to be done</h4>

<h5 id="mark-review-labels-as-per-the-review"><a href="https://gitlab.com/gitmate/open-source/gitmate-2/issues/296">Mark review labels as per the review</a></h5>

<p>To implement <code class="highlighter-rouge">Mark review labels as per the review</code> feature in GitMate, a
webhook event is needed which can detect a pull request review. In GitHub,
there is a web hook event called <a href="https://developer.github.com/v3/activity/events/types/#pullrequestreviewevent">PullRequestReviewEvent</a>
to know if a PR is reviewed. In GitLab, there are no webhook
<a href="https://docs.gitlab.com/ee/api/events.html">events</a> that can be detected as a
pull request review. If PullRequestEvent webhook needs to be added in IGitt,
it needs to support GitLab implementation also. So, this feature couldn’t be
implemented as of now.</p>

<h5 id="merge-all-pull-request-review-plugins"><a href="https://gitlab.com/gitmate/open-source/gitmate-2/issues/242">Merge all pull request review plugins</a></h5>

<p>Initially, the idea was to merge all review plugins like ack, approver,
auto label pending review or WIP. But, merging different plugins just because
they clear review queue, was a bad idea. Consider code analysis plugin,
which marks work in progress if it detects an error, but it doesn’t make sense
if it is merged with review plugin. So, I thought of declaring the review
labels settings in a new plugin or introduce something like global settings
which could be reused by any plugin if needed. There would be an option in
required plugins if they want to enable handling review labels in a pull
request. There was a delay in implementing this because I couldn’t find a
solution for sharing settings between different plugins.</p>

                </div>
            </div>
            <br><br>
        </div>
        <script>
        $('document').ready(function(){
            var hash_value = document.getElementById('sha256sum_hash_value').textContent.trim();
            document.getElementById('sha256sum_hash_value').textContent = hash_value.substring(0,7);
            document.querySelector('.fa-clipboard').addEventListener('click', function(){
                var new_element = document.createElement('textarea');
                $('new_element:first').addClass('hash_value_dup');
                new_element.value = hash_value;
                new_element.setAttribute('readonly', '');
                document.body.appendChild(new_element);
                new_element.select();
                document.execCommand('copy');
                document.body.removeChild(new_element);
                });
        })
        </script>
    </body>
</html>
