<!DOCTYPE html>
<html>
    <head>
        <title>Palash Nigam | Project Report </title>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
        <link rel="stylesheet" href="/resources/css/style.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.1/css/materialize.min.css">
        <link rel="stylesheet" href="https://rawgit.com/coala/coalaCSS/master/coala.css">
        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.1/js/materialize.min.js"></script>
        <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:300,300i,400,400i,700,700i|Roboto:100,200,300,400,500,600,700,800,900|Ubuntu+Mono|Overpass+Mono|Inconsolata" rel="stylesheet">
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet">
    </head>
    <body class='report'>
        <div class="container">
        <br>
            <div class="row no-margin">
                <div class="col m12">
                    <h4 class="left light">Google Summer of Code 2018 Work Product Submission </h4>
                </div>
                <br>
            </div>
            <br>
            <div class="row no-margin">
                <div class="col m6">
                    <div class="card flex1">
                        <div class="card-content">
                            <h5 class="light no-margin"><a href="https://coala.io">coala</a></h5>
                            <h3 class="light">Palash Nigam</h3>
                            <p><p>I am second year student of B.Tech Computer Science and Engineering at International Institute of Information and Technology, Bhubaneswar, Odisha, India. I worked as a GSoC student under coala to improve coala’s I/O mechanism using <code class="highlighter-rouge">FileFactory</code> class and adding features to provide more support for NextGen-Core’s caching mechanism.</p>
</p>
                        </div>
                    </div>
                </div>
                <div class="col m3">
                    <div class="card flex1">
                        <div class="card-content">
                            <div class="center"><h4 class="light no-margin">Project Title</h4></div>
                            <br>
                            <div class="center"><a href="https://summerofcode.withgoogle.com/projects/#6434190552203264">Optimize Caching for the NextGen-Core</a></div>
                        </div>
                    </div>
                    <div class="card flex1">
                        <div class="card-content">
                            <div class="center"><h4 class="light no-margin">GSoC Blog</h4></div>
                            <br>
                            <div class="center"><a class="blog-link" href="https://medium.com/gsoc-with-coala/">https://medium.com/gsoc-with-coala/</a></div>
                        </div>
                    </div>
                </div>
                <div class="col m3">
                    <div class="card flex1">
                        <div class="card-content links-section">
                            
                                <div class="link">
                                
                                    <div class="row no-margin ">
                                        <div class="col m6">GitHub</div>
                                        <div class="col m6"><a href="https://github.com/palash25">palash25</a></div>
                                    </div>
                                
                                </div>
                                <div class="divider"></div>
                            
                                <div class="link">
                                
                                    <div class="row no-margin ">
                                        <div class="col m6">GitLab</div>
                                        <div class="col m6"><a href="https://gitlab.com/palash25">palash25</a></div>
                                    </div>
                                
                                </div>
                                <div class="divider"></div>
                            
                                <div class="link">
                                
                                    <div class="row no-margin ">
                                        <div class="col m6">Gitter</div>
                                        <div class="col m6"><a href="https://gitter.im/palash25">palash25</a></div>
                                    </div>
                                
                                </div>
                                <div class="divider"></div>
                            
                                <div class="link">
                                
                                    <div class="row no-margin ">
                                        <div class="col m6">Openhub</div>
                                        <div class="col m6"><a href="https://www.openhub.net/accounts/palash25">palash25</a></div>
                                    </div>
                                
                                </div>
                                
                            
                            <br>
                            <div class="row no-margin center">
                                <div class="col m3"><i class="fa fa-envelope-o"></i></div>
                                <div class="col m9"><a href="mailto:npalash25@gmail.com">npalash25@gmail.com</a></div>
                            </div>

                        </div>
                    </div>
                </div>
            </div>
            <br>
            <div class="row no-margin">
                <div class="col m2">
                    <div class="card flex1">
                        <div class="card-content">
                            <div class="center"><h5 class="light no-margin">Patches Tarball</h5></div>
                            <br>
                            <div class="center"><a href="https://rawgit.com/palash25/gsoc-18-report/master/project.tar.gz">Download</a></div>
                            <br>
                            <div class="center sha256sum_hash">
                                <strong>SHA-256</strong>:
                                <p id="sha256sum_hash_value">
                                    11072a232d80160a6142e822b1ab66c28ccd4a72d6ea3762111ecdc922bb8479
                                </p>
                                <i class="fa fa-clipboard" aria-hidden="true"><span class="hinttext">Copy Hash value</span></i>
                            </div>
                        </div>
                    </div>
                </div>
                
                    
                        <div class="col m2">
                            <div class="card flex1">
                                <div class="card-content">
                                <div class="center"><h5 class="light no-margin">Bonding</h5></div>
                                <br>
                                <div class="center"><a href="https://gitlab.com/coala/GSoC/GSoC-2018/milestones/32">View Milestone</a></div>
                                </div>
                            </div>
                        </div>
                    
                
                    
                        <div class="col m2">
                            <div class="card flex1">
                                <div class="card-content">
                                <div class="center"><h5 class="light no-margin">Phase 1</h5></div>
                                <br>
                                <div class="center"><a href="https://gitlab.com/coala/GSoC/GSoC-2018/milestones/33">View Milestone</a></div>
                                </div>
                            </div>
                        </div>
                    
                
                    
                        <div class="col m2">
                            <div class="card flex1">
                                <div class="card-content">
                                <div class="center"><h5 class="light no-margin">Phase 2</h5></div>
                                <br>
                                <div class="center"><a href="https://gitlab.com/coala/GSoC/GSoC-2018/milestones/34">View Milestone</a></div>
                                </div>
                            </div>
                        </div>
                    
                
                    
                        <div class="col m2">
                            <div class="card flex1">
                                <div class="card-content">
                                <div class="center"><h5 class="light no-margin">Phase 3</h5></div>
                                <br>
                                <div class="center"><a href="https://gitlab.com/coala/GSoC/GSoC-2018/milestones/35">View Milestone</a></div>
                                </div>
                            </div>
                        </div>
                    
                
                <div class="col m2">
                    <div class="card flex1">
                        <div class="card-content">
                        <div class="center"><h5 class="light no-margin">Mentors</h5></div>
                        <br>
                        <div class="center"><p><a href="https://github.com/Makman2">Mischa Krüger</a>, <a href="https://github.com/shreyans800755">Shreyans Doshi</a>, <a href="https://github.com/fneu">Fabian Neuschmidt</a></p>
</div>
                        </div>
                    </div>
                </div>
            </div>
            <br>
             <div class="row no-margin">
                <div class="col m12">
                    <h5 class="left light">Links to commits and repositories I've worked on:</h5>
                </div>
                <br>
            </div>
            <div class="no-margin">
                <table class="padding-table">
                    <thead class="no-border">
                        <tr class="blue-grey-text text-lighten-2">
                            <td></td>
                            <td>Repository</td>
                            <td>Link to Commit/s</td>
                            <td>Description</td>
                        </tr>
                    </thead>
                    <tbody class="card activity">
                        
                        
                           <tr>
                                <td class="fl">c</td>
                                <td class="">&nbsp;cEPs</td>
                                <td><a href='https://github.com/coala/cEPs/commit/7272ff6b9463a5cff33c431f73a416e5a999f4ac'>View</a></td>
                                <td><p>cEP-0026.md: Adds optimize caching cEP.</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">p</td>
                                <td class="">&nbsp;projects</td>
                                <td><a href='https://github.com/coala/projects/commit/a228c2b39ef17b3c6d3572853601dfa05b938173'>View</a></td>
                                <td><p>Updated the details of Optimize Caching project.</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">p</td>
                                <td class="">&nbsp;projects</td>
                                <td><a href='https://github.com/coala/projects/commit/759f74f88206c58ac80dd7acd12cadbae13f28cb'>View</a></td>
                                <td><p>optimize_caching.md: Changed primary mentor from adtac to Makman2.</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">d</td>
                                <td class="">&nbsp;devops</td>
                                <td><a href='https://github.com/coala/devops/commit/e309383bc5aacb007c4986bd74197238a4fcc96d'>View</a></td>
                                <td><p>planet.ini: Add palash25 gsoc blog feed.</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">c</td>
                                <td class="">&nbsp;coala</td>
                                <td><a href='https://github.com/coala/coala/commit/b06dfe44fa99ffeb997f6f0a4bf302938fb9734c'>View</a></td>
                                <td><p>Added <code class="highlighter-rouge">FileFactory</code> class. Objects of this class are used to represent files and replace file contents in the file dict.</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">c</td>
                                <td class="">&nbsp;coala</td>
                                <td><a href='https://github.com/coala/coala/commit/77c1dca15dc82d1753aa0962017899392d0033ec'>View</a></td>
                                <td><p>Added <code class="highlighter-rouge">Directory</code> class. This class will act as an interface to directories providing useful information about them. The objects of this class can be used by bears that operate only on directories and perform analysis based on the things like directory structure.</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">c</td>
                                <td class="">&nbsp;coala</td>
                                <td><a href='https://github.com/coala/coala/commit/fc568a01ba489376b4d6efac12ea772cb3cb1573'>View</a></td>
                                <td><p>Added <code class="highlighter-rouge">memoized_property</code>. <code class="highlighter-rouge">memoized_property</code> is a decorator that caches the properties of <code class="highlighter-rouge">FileFactory</code> class.</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">c</td>
                                <td class="">&nbsp;coala</td>
                                <td><a href='https://github.com/coala/coala/commit/81bbca42f82319aed22ba7f90781d886d559d4dd'>View</a></td>
                                <td><p>NextGen_Core.rst: Update caching section.</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">c</td>
                                <td class="">&nbsp;coala</td>
                                <td><a href='https://github.com/coala/coala/commit/87d3dffd1a52c42ac60da0199ee34bd95827b8ff'>View</a></td>
                                <td><p>IO.rst: Add FileFactory docs.</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">c</td>
                                <td class="">&nbsp;coala</td>
                                <td><a href='https://github.com/coala/coala/commit/7bc5d7f7b84e91da9f6aa2f77d40f92e66c850d5'>View</a></td>
                                <td><p>NextGen_Core.rst: Add link to IO docs.</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">c</td>
                                <td class="">&nbsp;coala</td>
                                <td><a href='https://github.com/coala/coala/commit/54622c2b03e1b84bb122130af182424d706d3de4'>View</a></td>
                                <td><p><code class="highlighter-rouge">FileFactory</code>: Use <code class="highlighter-rouge">cached_property</code> instead of <code class="highlighter-rouge">memoized_property</code>.</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">c</td>
                                <td class="">&nbsp;coala</td>
                                <td><a href='https://github.com/coala/coala/commit/415361f5a4c12cd65dd4cc171d2a8ebbba3bc92c'>View</a></td>
                                <td><p>A new attribute <code class="highlighter-rouge">newline</code> was added to <code class="highlighter-rouge">FileFactory</code> to force newlines on the file content.</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">c</td>
                                <td class="">&nbsp;coala</td>
                                <td><a href='https://github.com/coala/coala/commit/fbe8452360eb39340ace4334c2df133a1ee6de97'>View</a></td>
                                <td><p>Processing: Add middleware <code class="highlighter-rouge">FileDict</code> that provides the bears with the actual file contents instead of the <code class="highlighter-rouge">FileFactory</code> objects.</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">c</td>
                                <td class="">&nbsp;coala</td>
                                <td><a href='https://github.com/coala/coala/commit/e138e4875fc6d1474a93758881f550e05df8e329'>View</a></td>
                                <td><p>Processing: Modify tests to use actual files instead of hard coded tuples as file content.</p>
</td>
                           </tr>
                        
                        
                        
                           <tr>
                                <td class="fl">c</td>
                                <td class="">&nbsp;coala</td>
                                <td><a href='https://github.com/coala/coala/commit/3ae03bec665943aa6173047245ca929a0a754c69'>View</a></td>
                                <td><p>Added support for collection types like <code class="highlighter-rouge">dict</code> and <code class="highlighter-rouge">set</code> for <code class="highlighter-rouge">persistent_hash</code>.</p>
</td>
                           </tr>
                        
                        
                    </tbody>
                </table>
            </div>
            <br>
            <div class="content card">
                <div class="card-content">
                    <h3 id="optimize-caching-for-the-nextgen-core">Optimize Caching for the NextGen-Core</h3>

<h4 id="work-done">Work Done</h4>

<ol>
  <li>Improved I/O mechanism for coala.
    <ol>
      <li>Added a class <code class="highlighter-rouge">FileFactory</code> to interface with files and to provide file
contents in different forms like string, binary data or as a tuple.</li>
      <li>Added a <code class="highlighter-rouge">Directory</code> class to interface with directories and provide
useful information about them such as the directory path, parent
directory and timestamps. This will be later used to implement ignore
directories functionality.</li>
      <li>Added documentation for <code class="highlighter-rouge">FileFactory</code> and improved the NextGen-Core
docs.</li>
    </ol>
  </li>
  <li>Caching support.
    <ol>
      <li>Cached the properties of <code class="highlighter-rouge">FileFactory</code> which turned out to be a
significant performance boost in consecutive coala runs.</li>
      <li>Added support for unordered collection types in <code class="highlighter-rouge">persistent_hash</code>
which improved the NextGen-Core’s ability to hash much more
complex task objects (which are used in NextGen caching).</li>
    </ol>
  </li>
  <li>Integrated <code class="highlighter-rouge">FileFactory</code> with the core.
    <ol>
      <li>Added line endings support for <code class="highlighter-rouge">FileFactory</code>.</li>
      <li>Implemented a middleware <code class="highlighter-rouge">FileDict</code> that mimics a dictionary
and provides the bears in the old core with the actual file
contents instead of the <code class="highlighter-rouge">FileFactory</code> objects thereby maintaining
backwards compatibility with the old core.</li>
      <li>Modified the tests to use actual files and the <code class="highlighter-rouge">FileFactory</code> objects
instead of hard-coded file contents.</li>
    </ol>
  </li>
</ol>

<h4 id="challenges">Challenges</h4>

<p>One of the first challenges I faced was designing the <code class="highlighter-rouge">FileFactory</code>.
But with my mentors help we were able to come up with a design that
could be used for the NextGen-Core and also maintained compatibility
with the old core.</p>

<p>The biggest challenge that I faced these three months for the integration
of the aforementioned <code class="highlighter-rouge">FileFactory</code> with the core. Initially about thirty
tests were failing but after discussing the idea of using a middleware
(<code class="highlighter-rouge">FileDict</code>) to maintain backwards compatibilty with the old core the test
failures were significantly reduced to just six. After a while I discovered
that <code class="highlighter-rouge">FileFactory</code> was somehow removing line-endings from the file contents
which was fixed by adding support for newlines in <code class="highlighter-rouge">FileFactory</code> which in turn
led to a successful integration.</p>

<h4 id="work-to-be-done">Work to be done</h4>

<p>Two major features were left out because of time constraints:</p>
<ol>
  <li>Ignore directories functionality for the NextGen-Core.</li>
  <li>Cache control flags for the NextGen-Core (which was
already mentioned as a stretch issue in my GSoC proposal).</li>
</ol>

                </div>
            </div>
            <br><br>
        </div>
        <script>
        $('document').ready(function(){
            var hash_value = document.getElementById('sha256sum_hash_value').textContent.trim();
            document.getElementById('sha256sum_hash_value').textContent = hash_value.substring(0,7);
            document.querySelector('.fa-clipboard').addEventListener('click', function(){
                var new_element = document.createElement('textarea');
                $('new_element:first').addClass('hash_value_dup');
                new_element.value = hash_value;
                new_element.setAttribute('readonly', '');
                document.body.appendChild(new_element);
                new_element.select();
                document.execCommand('copy');
                document.body.removeChild(new_element);
                });
        })
        </script>
    </body>
</html>
